!function t(e,i,n){function r(o,s){if(!i[o]){if(!e[o]){var d="function"==typeof require&&require;if(!s&&d)return d(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i||t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"use strict";var n=t("./iFrameBridge"),r=n.Bridge,a=(n.callAction,t("./httpclient").ajax),o=function(t,e){this.container=t.get(0),this.src=e||"http://precluck.market-place.su/widget/render",this.iFrame=null,this.params={width:"200px",height:"200px"},this.plugins={},this.index="0",this.Bridge=new r(this.index);var i=this;this.Bridge.addAction("resize",function(t){i.resize(t.size),i.loadPlugins(["WidgetSliderPlugin"])})};o.prototype.createIframe=function(t){t=t||{};for(var e in this.params)console.log(["пключ",e]),t.hasOwnProperty(e)||(t[e]=this.params[e]);var i=this;this.getProducts(t,function(e){var n=JSON.parse(e);if(n.hasOwnProperty("hash")){i.iFrame=document.createElement("iframe"),i.iFrame.scrolling="no",i.iFrame.style.border="0",i.iFrame.style.margin="0",i.iFrame.style.width="100%";var r=i.src+"?data="+JSON.stringify(t)+"&index="+i.index+"&hash="+n.hash;i.iFrame.src=r,i.container.appendChild(i.iFrame)}},function(t){alert("not ok")})},o.prototype.reloadIframe=function(t){var e=this;for(var i in this.params)console.log(["пключ",i]),t.hasOwnProperty(i)||(t[i]=this.params[i]);this.getProducts(t,function(i){var n=JSON.parse(i);if(n.hasOwnProperty("hash")){var r=e.src+"?data="+JSON.stringify(t)+"&index="+e.index+"&hash="+n.hash;e.iFrame.src=r,e.container.appendChild(e.iFrame)}},function(t){alert("not ok")})},o.prototype.getProducts=function(t,e,i){t=t||{},t={geo_id:"",url:window.location.href,text:{models:{h1:"печей Panasonic"},texts:{h1:"микроволновых печей Panasonic"}}};var n="//newapi.market-place.su/api?mth=api&wid=plugin&affiliate_id=editor&rnd="+Math.random()+"&data="+encodeURIComponent(JSON.stringify(t));e=e||function(){},i=i||function(){},a(n,{successFn:function(t){e(t)},errorFn:function(t){i(t)}})},o.prototype.resize=function(t){var e=t.width,i=parseInt(t.height)+55+"px";this.iFrame.width=e,this.iFrame.height=i},o.prototype.unloadPlugins=function(){},o.prototype.loadPlugins=function(t){for(var e=0,i=t.length;e<i;e++)console.log([11,"бета плягин",t[e]])},o.prototype.appendScript=function(t,e){e=e||function(){};var i=document.createElement("script");i.src=t,i.onload=function(){e()},document.body.appendChild(i)},e.exports=o},{"./httpclient":2,"./iFrameBridge":3}],2:[function(t,e,i){"use strict";var n={ajax:function(t,e){var i=t,n=(e=e||{}).errorFn||function(){},r=e.successFn||function(){},a=e.type||"GET",o=e.data||{},s=JSON.stringify(o);if(a=a.toUpperCase(),window.XMLHttpRequest)d=new XMLHttpRequest;else var d=new ActiveXObject("Microsoft.XMLHTTP");if("GET"==a){s=null,i.indexOf("?")<0&&(i+="?1=1");for(var c in o)o.hasOwnProperty(c)&&(i+="&"+c+"="+o[c])}d.open(a,i,!0),d.onreadystatechange=function(){4==d.readyState?200==d.status?r({response:d.responseText}):n({status:d.status}):n({status:d.readyState})},d.onreadystatechange=function(){4==d.readyState&&(200==d.status?r(d.responseText):n({status:d.status}))};try{d.withCredentials=e.withCredentials||!1,d.send(s)}catch(t){}}};e.exports=n},{}],3:[function(t,e,i){"use strict";function n(t){var t=t||r();return void 0===window.MpFrameBridges&&(window.MpFrameBridges={}),void 0!==window.MpFrameBridges[t]?window.MpFrameBridges[t]:(window.MpFrameBridges[t]=new a(t),window.MpFrameBridges[t])}function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}function a(t){this.index=t||r();var e={default:function(){}};this.execAction=function(t,i){(e[t]||e.default||function(){}).call(this,i)},this.addAction=function(t,i){e[t]=i},this.showActions=function(){console.log(e)}}window.makeBridge=n,window.mp_bridge_listener=function(t){if("object"==typeof t.data&&void 0!==t.data.bridgeAction&&1==t.data.bridgeAction){if(console.log(["событие",t.data]),"broadcast"==t.data.data.index&&void 0!==window.MpFrameBridges)for(var e in window.MpFrameBridges)window.MpFrameBridges.hasOwnProperty(e)&&window.MpFrameBridges[e].execAction(t.data.name,t.data.data);n(t.data.data.index).execAction(t.data.name,t.data.data)}},void 0===window.MpBridgeListenerAttached&&(window.addEventListener?window.addEventListener("message",mp_bridge_listener):window.attachEvent("onmessage",mp_bridge_listener),window.MpBridgeListenerAttached=!0),e.exports={Bridge:n,callAction:function(t,e,i){i.postMessage({name:t,data:e,bridgeAction:!0},"*")}}},{}],4:[function(t,e,i){"use strict";window.WidgetEditor=t("./../models/WidgetEditor")},{"./../models/WidgetEditor":1}]},{},[4]);